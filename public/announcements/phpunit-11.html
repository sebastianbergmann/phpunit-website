<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="../css/bootstrap.min.css?v=3" rel="stylesheet">
        <link href="../css/highlight.min.css?v=3" rel="stylesheet">
        <link href="../css/style.css?v=5" rel="stylesheet">

        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">

        <title>Release Announcement for Version 11 of PHPUnit</title>
        <meta property="og:title" content="Release Announcement for Version 11 of PHPUnit" />
        <meta property="og:url" content="https://phpunit.de/announcements/phpunit-11.html" />
        <link rel="canonical" href="https://phpunit.de/announcements/phpunit-11.html" />
        <meta property="og:image" content="https://phpunit.de/img/phpunit.jpg" />
        <meta property="og:type" content="article" />
        <meta property="og:description" content="The PHPUnit development team is pleased to announce the immediate availability of PHPUnit 11. This release adds new features, changes and removes existing features, and fixes bugs." />
        <meta name="description" content="The PHPUnit development team is pleased to announce the immediate availability of PHPUnit 11. This release adds new features, changes and removes existing features, and fixes bugs." />

        <script defer data-api="/api/event" data-domain="phpunit.de" src="/js/script.js"></script>
    </head>
    <body>
        <div class="container">
            <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
                <a href="../index.html" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                    <img alt="PHPUnit" src="../img/phpunit.svg" style="height: 40px;"/>
                </a>

                <ul class="nav nav-pills">
                    <li class="nav-item"><a href="../index.html" class="nav-link">Home</a></li>
                    <li class="nav-item"><a href="../documentation.html" class="nav-link">Documentation</a></li>
                    <li class="nav-item"><a href="../professional-services.html" class="nav-link">Professional Services</a></li>
                    <li class="nav-item"><a href="../sponsors.html" class="nav-link">Sponsors</a></li>
                    <li class="nav-item"><a href="../contribute.html" class="nav-link">Contribute</a></li>
                </ul>
            </header>

            <div class="row">
                <div class="col-md-12">
                    <h1><span style="white-space: nowrap;">PHPUnit 11</span></h1>
                    <p><time datetime="2024-02-02" title="February 2, 2024">February 2, 2024</time></p>

                    <p class="wrapped">
                        The PHPUnit development team is pleased to announce the immediate availability of <span style="white-space: nowrap;">PHPUnit 11</span>.
                        This release adds new features, modifies and removes existing functionality, and fixes bugs.
                    </p>
                    <p class="wrapped">
                        A detailed list of changes can be found <a href="https://github.com/sebastianbergmann/phpunit/blob/11.0.0/ChangeLog-11.0.md#1100---2024-02-02">here</a>.
                        The most significant changes are discussed below.
                    </p>
                    <h2 class="subheadline">OMGWTFBBQ? I must upgrade to <span style="white-space: nowrap;">PHPUnit 11</span> immediately!</h2>
                    <p class="wrapped">
                        <strong>No, you do not.</strong>
                    </p>
                    <p class="wrapped">
                        Just because <span style="white-space: nowrap;">PHPUnit 11</span> has been released today does not mean that
                        <span style="white-space: nowrap;">PHPUnit 9</span> or <span style="white-space: nowrap;">PHPUnit 10</span>
                        will no longer work. While old versions of PHPUnit will eventually stop receiving bug fixes,
                        <a href="../supported-versions.html">we will keep them compatible with new versions of PHP for as long as
                        possible</a>.
                    </p>
                    <p class="wrapped">
                        We sincerely hope that you do not use the <a href="https://thephp.cc/articles/the-death-star-version-constraint?ref=phpunit">Death Star Version Constraint</a>
                        and therefore do not automatically and unintentionally upgrade to a new major version of PHPUnit.
                    </p>
                    <p class="wrapped">
                        Upgrading a dependency to a new major release must be a conscious decision that is part of a defined process.
                        This process should include, at a minimum, reading an announcement like this and the
                        <a href="https://github.com/sebastianbergmann/phpunit/blob/11.0.0/ChangeLog-11.0.md#1100---2024-02-02">ChangeLog</a>.
                    </p>
                    <p class="wrapped">
                        <span style="white-space: nowrap;">PHPUnit 11</span> requires <span style="white-space: nowrap;">PHP 8.2</span> or later.
                        If you are not using <span style="white-space: nowrap;">PHP 8.2</span> or <span style="white-space: nowrap;">PHP 8.3</span>,
                        you will not be able to use <span style="white-space: nowrap;">PHPUnit 11</span> right away.
                    </p>
                    <div class="alert alert-secondary" role="alert">
                        <p class="text-center">
                            <strong>Need more reasons to upgrade your PHP?</strong>
                        </p>
                        <p class="text-center">
                            The only <a href="https://www.php.net/supported-versions.php">actively supported</a> versions of PHP as of February 2, 2024 are <span style="white-space: nowrap;">PHP 8.2</span> and <span style="white-space: nowrap;">PHP 8.3</span>.
                        </p>
                    </div>
                    <p class="wrapped">
                        We are confident that <span style="white-space: nowrap;">PHPUnit 11</span> works as intended, but in some respects
                        it works differently than previous versions. For example, functionality that was only
                        <a href="../backward-compatibility.html">soft-deprecated</a> in <span style="white-space: nowrap;">PHPUnit 10</span>
                        is now <a href="../backward-compatibility.html">hard-deprecated</a> in <span style="white-space: nowrap;">PHPUnit 11</span>.
                        And functionality that was hard-deprecated in <span style="white-space: nowrap;">PHPUnit 10</span>
                        has been removed in <span style="white-space: nowrap;">PHPUnit 11</span>.
                    </p>
                    <p class="wrapped">
                        You should not even try to upgrade to <span style="white-space: nowrap;">PHPUnit 11</span>
                        if you cannot run your test suite using <span style="white-space: nowrap;">PHPUnit 10.5</span>
                        without getting deprecation warnings.
                    </p>
                    <p class="wrapped">
                        If the above does not put you off, then please: go ahead and upgrade! And should you encounter a problem,
                        <a href="https://github.com/sebastianbergmann/phpunit/issues/new/choose">please report it</a>.
                    </p>
                    <div class="alert alert-secondary" role="alert">
                        <p class="text-center">
                            It has taken <a href="https://sebastian-bergmann.de/">Sebastian Bergmann</a> thousands
                            of hours to develop, test, and support PHPUnit.
                        </p>
                        <p class="text-center">
                            Perhaps now is the time to <a href="../contribute.html">contribute
                            to the development of PHPUnit</a> or <a href="../sponsors.html">sponsor Sebastian's work</a>.
                        </p>
                    </div>
                    <h2 class="subheadline">Major Changes in PHPUnit 11</h2>
                    <h3 class="subheadline">Test Doubles</h3>
                    <p class="wrapped">
                        We are cleaning up PHPUnit's functionality for programmatically creating test stubs and mock objects.
                        We are doing this primarily to make working with test doubles easier and less confusing for developers
                        using PHPUnit. But we are also doing this to reduce complexity in the implementation by removing features
                        that are not as necessary as they were a decade or two ago (as well as features that probably should
                        never have been implemented in the first place).
                    </p>
                    <p>
                        The methods for creating mock objects for abstract classes and traits were already soft-deprecated
                        in <span style="white-space: nowrap;">PHPUnit 10</span>, they are now hard-deprecated and will be
                        removed in <span style="white-space: nowrap;">PHPUnit 12</span>. Testing concrete classes in
                        isolation from their abstract base classes (and vice versa) as well as testing traits in isolation
                        from the classes that use them has not proven to be useful.
                    </p>
                    <p>
                        Several releases ago, we introduced special methods, such as <code>createStub()</code> and <code>createMock()</code>,
                        for creating test stubs and mock objects, respectively. These methods allow developers to make their
                        intentions clear in the test code they write. Need a test stub to isolate the code under test from a
                        dependency? Use <code>createStub()</code> to create a test stub. Need to test communication between
                        two objects? Use <code>createMock()</code> to create a mock object.
                    </p>
                    <p>
                        Configuring expectations on an object created with <code>createStub()</code> will trigger a deprecation
                        warning in <span style="white-space: nowrap;">PHPUnit 11</span> and will not work in
                        <span style="white-space: nowrap;">PHPUnit 12</span>.
                    </p>
                    <p>
                        This <a href="https://thephp.cc/presentations/testing-with-doubles-why-when-and-how?ref=phpunit">presentation</a>
                        has more details on when test stubs and mock objects should be used.
                    </p>
                    <h3 class="subheadline">Metadata</h3>
                    <p class="wrapped">
                        PHPUnit 10 introduced support for PHP 8 attributes to add metadata to test classes and test methods.
                        Previously, annotations in special PHP comments called "docblocks" or "doc-comments" were the only way
                        to add metadata to units of code.
                    </p>
                    <p class="wrapped">
                        In PHPUnit 11, the annotations that can be used in special PHP comments to add metadata to test
                        classes and test methods are deprecated. Support for these annotations will be removed in
                        <span style="white-space: nowrap;">PHPUnit 12</span>.
                    </p>
                    <h2 class="subheadline">Getting <span style="white-space: nowrap;">PHPUnit 11</span></h2>
                    <p class="wrapped">
                        We distribute a <a href="https://secure.php.net/phar">PHP Archive (PHAR)</a> that contains everything you need in order to use PHPUnit.
                        Alternatively, you may use Composer to download and install PHPUnit as well as its dependencies.
                    </p>
                    <p class="wrapped">
                        <a href="../getting-started/phpunit-11.html">Here is a tutorial that gets you started.</a>
                    </p>
                    <h2 class="subheadline">Supported Versions</h2>
                    <p class="wrapped">
                        Detailed information on supported versions of PHPUnit is available <a href="../supported-versions.html">here</a>.
                        Below is a summary as of February 2, 2024:
                    </p>
                    <ul>
                        <li><span style="white-space: nowrap;">PHPUnit 11</span> receives bug fixes until February 6, 2026</li>
                        <li><span style="white-space: nowrap;">PHPUnit 10</span> receives bug fixes until February 7, 2025</li>
                        <li><span style="white-space: nowrap;">PHPUnit 8</span> and <span style="white-space: nowrap;">PHPUnit 9</span> no longer receive bug fixes</li>
                    </ul>
                    <p class="wrapped">
                        The versions listed above will be kept compatible with new PHP versions as long as possible.
                    </p>
                    <h2 class="subheadline">Looking Forward</h2>
                    <p class="wrapped">
                        Here is the roadmap for the next year:
                    </p>
                    <ul>
                        <li><a href="https://github.com/sebastianbergmann/phpunit/milestone/59"><span style="white-space: nowrap;">PHPUnit 11.1</span></a> is planned for April 5, 2024</li>
                        <li><a href="https://github.com/sebastianbergmann/phpunit/milestone/60"><span style="white-space: nowrap;">PHPUnit 11.2</span></a> is planned for June 7, 2024</li>
                        <li><a href="https://github.com/sebastianbergmann/phpunit/milestone/61"><span style="white-space: nowrap;">PHPUnit 11.3</span></a> is planned for August 2, 2024</li>
                        <li><a href="https://github.com/sebastianbergmann/phpunit/milestone/62"><span style="white-space: nowrap;">PHPUnit 11.4</span></a> is planned for October 4, 2024</li>
                        <li><a href="https://github.com/sebastianbergmann/phpunit/milestone/63"><span style="white-space: nowrap;">PHPUnit 11.5</span></a> is planned for December 6, 2024</li>
                        <li><a href="https://github.com/sebastianbergmann/phpunit/milestone/52"><span style="white-space: nowrap;">PHPUnit 12</span></a> is planned for February 7, 2025</li>
                    </ul>
                    <h2 class="subheadline">Follow PHPUnit in the Fediverse</h2>
                    <p class="wrapped">
                        Consider following <a rel="me" href="https://phpc.social/@phpunit/">@phpunit@phpc.social</a> to stay up to date with PHPUnit's development.
                    </p>
                </div>
            </div>

            <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
                <p class="col-md-4 mb-0 text-muted">Copyright &copy; Sebastian Bergmann.</p>

                <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
                    <li class="ms-3"><a class="text-muted" href="https://github.com/sebastianbergmann/phpunit/"><img alt="GitHub" src="../img/github.svg" width="24" height="24"/></a></li>
                    <li class="ms-3"><a class="text-muted" rel="me" href="https://phpc.social/@phpunit/"><img alt="Mastodon" src="../img/mastodon.svg" width="24" height="24"/></a></li>
                </ul>
            </footer>
        </div>

        <script src="../js/bootstrap.bundle.min.js?v=3"></script>
        <script src="../js/highlight.min.js?v=3"></script>
        <script src="../js/highlight.js?v=3"></script>
    </body>
</html>
